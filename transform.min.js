!function(){var t=[{name:"translate",unit:"px",special:!0,len:2},{name:"translate3d",unit:"px",special:!0,len:3},{name:"translateX",unit:"px"},{name:"translateY",unit:"px"},{name:"translateZ",unit:"px"},{name:"rotate",unit:"deg"},{name:"rotateX",unit:"deg"},{name:"rotateY",unit:"deg"},{name:"rotateZ",unit:"deg"},{name:"scale",unit:"",special:!0,len:2},{name:"scaleX",unit:""},{name:"scaleY",unit:""}],e="undefined"!=typeof jQuery;window.Transform=function(t){this.transform={};var n,r=t||"",a=!1;if("string"==typeof r?a=!0:"nodeName"in r?n=r:e&&r instanceof jQuery?n=r.get(0):this.transform=this.cleanUnit(r),n){for(var s=["","-webkit-","-moz-","-o-"],i=!1,f=0;f<s.length;f++)if(n.style[s[f]+"transform"]){r=n.style[s[f]+"transform"],i=!0;break}a=!0}a&&(this.transform=this.convert(r))},Transform.prototype={cleanUnit:function(t){var e={};for(var r in t)e[r]=parseFloat(t[r]);return e},hasTransform:function(){for(var t in this.transform)if(this.transform[t])return!0;return!1},convert:function(e){var a,s,i,f,o,l,r=e||"",n={},u=["X","Y","Z"];for(i=0,f=t.length;f>i;i++)if(s=t[i].name,-1!=r.indexOf(s+"("))if(a=r.substr(r.indexOf(s+"(")+s.length+1,r.length),a=a.substr(0,a.indexOf(")")),t[i].special)for(a=a.split(","),s=-1!=s.indexOf("3d")?s.substr(0,s.length-2):s,o=0,l=t[i].len;l>o;o++)n[s+u[o]]=parseFloat(a[o]||("scale"==s?a[0]:0));else"rotate"==s&&(s+="Z"),n[s]=parseFloat(a);return n},getTermUnit:function(e){for(var r=0,n=t.length;n>r;r++)if(e==t[r].name)return t[r].unit;return""},getCssFormat:function(t,e){for(var n=void 0!==e?e:!0,a="object"==typeof t?t:["translateX","translateY","translateZ","scaleX","scaleY","rotateX","rotateY","rotateZ"],s="",i=0,f=a.length;f>i;i++)void 0!==this.transform[a[i]]&&(n&&(this.transform[a[i]]=r(this.transform[a[i]],2)),s+=a[i]+"("+this.transform[a[i]]+this.getTermUnit(a[i])+") ");return s},set:function(t,e,r){return"scale"==t?(this.set("scaleX",e,r),this.set("scaleY",e,r),this):("rotate"==t&&(t="rotateZ"),r&&this.transform[t]?this.transform[t]+=e||0:this.transform[t]=e||0,this)},get:function(t){var e=["translateX","translateY","scaleX","scaleY","rotateX","rotateY","rotateZ"];if("boolean"==typeof t&&t){for(var r={},n=6;n>=0;n--)r[e[n]]=this.transform[e[n]]||(-1!=e[n].indexOf("scale")?1:0);return r}return"string"==typeof t?("rotate"==t&&(t="rotateZ"),"scale"==t&&(t="scaleX"),this.transform[t]||(-1!=t.indexOf("scale")?1:0)):this.transform},add:function(t){var t;"string"==typeof t&&(t=this.convert(t));for(var e in t){var r=parseFloat(t[e]);this.transform[e]?this.transform[e]+=r:this.transform[e]=r}return this},translate:function(t,e,r){return null!==t&&this.set("translateX",t,!0),(void 0!==e||null!==e)&&this.set("translateY",e,!0),(void 0!==r||null!==r)&&this.set("translateZ",r,!0),this},rotate:function(t,e,r){return void 0===e||null!==e?this.set("rotateZ",t):(this.set("rotateX",t),this.set("rotateY",e),(void 0!==r||null!==e)&&this.set("rotateZ",r)),this},scale:function(t,e){return this.set("scaleX",t),this.set("scaleY",void 0===e||null!==e?t:e),this}};var r=function(t,e){var r=Math.pow(10,e);return t*=r,t=Math.round(t)/r}}();